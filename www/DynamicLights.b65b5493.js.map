{"version":3,"sources":["components/demos/DynamicLights/index.tsx"],"names":[],"mappings":"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","file":"DynamicLights.b65b5493.js","sourceRoot":"../src","sourcesContent":["import React, { useEffect, useState } from 'react'\n\nfunction addScript(src: string, id: string) {\n  if (document.getElementById(id)) return\n  const p = new Promise((resolve, reject) => {\n    var s = document.createElement('script')\n    s.src = src\n    s.onload = resolve\n    s.onerror = reject\n    s.onabort = reject\n    document.head.appendChild(s)\n  })\n  return p\n}\n\nfunction addInlineScript(src: string, id: string) {\n  if (document.getElementById(id)) return\n  var s = document.createElement('script')\n  s.innerHTML = src\n  s.async = false\n  s.defer = false\n  document.head.appendChild(s)\n}\n\nexport default () => {\n  const [isInitialized, setIsInitialized] = useState(false)\n\n  useEffect(() => {\n    ;(async () => {\n      console.log('initializing')\n      await Promise.all([\n        addScript(\n          'https://unpkg.com/aframe-randomizer-components@3.0.2/dist/aframe-randomizer-components.min.js',\n          'aframe-randomizer-components'\n        ),\n        addScript(\n          'https://unpkg.com/aframe-entity-generator-component@3.0.1/dist/aframe-entity-generator-component.min.js',\n          'aframe-entity-generator-component'\n        )\n      ])\n      AFRAME.registerComponent('random-material', {\n        init: function() {\n          this.el.setAttribute('material', {\n            color: this.getRandomColor(),\n            metalness: Math.random(),\n            roughness: Math.random()\n          })\n        },\n\n        getRandomColor: function() {\n          var letters = '0123456789ABCDEF'.split('')\n          var color = '#'\n          for (var i = 0; i < 6; i++) {\n            color += letters[Math.floor(Math.random() * 16)]\n          }\n          return color\n        }\n      })\n\n      AFRAME.registerComponent('random-torus-knot', {\n        init: function() {\n          this.el.setAttribute('geometry', {\n            primitive: 'torusKnot',\n            radius: Math.random() * 10,\n            radiusTubular: Math.random() * 0.75,\n            p: Math.round(Math.random() * 10),\n            q: Math.round(Math.random() * 10)\n          })\n        }\n      })\n      setIsInitialized(true)\n    })()\n  }, [])\n  if (!isInitialized) return <div>Loading...</div>\n  return (\n    <a-scene background=\"color: #111\">\n      <a-assets>\n        <a-mixin\n          id=\"light\"\n          geometry=\"primitive: sphere; radius: 1.5\"\n          material=\"color: #FFF; shader: flat\"\n          light=\"color: #DDDDFF; distance: 120; intensity: 2; type: point\"\n        ></a-mixin>\n        <a-mixin\n          id=\"torusKnot\"\n          random-torus-knot\n          random-material\n          random-position=\"min: -60 -60 -80; max: 60 60 40\"\n        ></a-mixin>\n      </a-assets>\n\n      <a-entity entity-generator=\"mixin: torusKnot; num: 120\"></a-entity>\n\n      <a-entity animation=\"property: rotation; to: 0 0 360; dur: 4000; easing: linear; loop: true\">\n        <a-entity mixin=\"light\" position=\"30 0 0\"></a-entity>\n      </a-entity>\n\n      <a-entity animation=\"property: rotation; to: 360 0 0; dur: 4000; easing: linear; loop: true\">\n        <a-entity mixin=\"light\" position=\"0 0 40\"></a-entity>\n      </a-entity>\n    </a-scene>\n  )\n}\n"]}